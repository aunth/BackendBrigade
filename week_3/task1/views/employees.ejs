
<link rel="stylesheet" href="/css/style.css">

<h1>List of Employees</h1>

<% employees.forEach(employee => { %>
  <div class="employee">
    <p><strong><%= `${employee.name}` %></strong> (<%= `${employee.remaining_holidays} days remaining` %>)</p>
    <% const employeeRequests = holidayRequests.filter(request => request.employee_id == employee.id); %>
    <% if (employeeRequests.length > 0) { %>
      <p class="requests-heading">Holiday Requests:</p>
      <ul class="requests-list">
        <% employeeRequests.forEach((request, index) => { %>
          <li>
            <strong>Request <%= index + 1 %>:</strong>
            <strong>From:</strong> <%= request.start_date.toLocaleDateString('en-CA') %>,
            <strong>To:</strong> <%= request.end_date.toLocaleDateString('en-CA') %>,
            <strong>Status:</strong> <%= request.status %>
          </li>
        <% }); %>
      </ul>
    <% } else { %>
      <p>No holiday requests.</p>
    <% } %>
    
  </div>
<% }); %>
